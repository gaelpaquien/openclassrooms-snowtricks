let links=document.querySelectorAll("[data-delete]");for(let e of links)e.addEventListener("click",function(t){t.preventDefault();e.closest(".media-block");let n=document.getElementById("confirm-modal"),o=document.getElementById("confirm-message"),r=document.getElementById("confirm-yes"),i=document.getElementById("confirm-no");o.innerText=e.getAttribute("data-confirm-message"),n.style.setProperty("display","block","important"),r.addEventListener("click",function(t){t.preventDefault(),n.style.setProperty("display","none","important"),fetch(e.getAttribute("data-url"),{method:"DELETE",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},body:JSON.stringify({_token:e.dataset.token})}).then(function(e){return e.json()}).then(function(t){t.success?location.href=e.getAttribute("data-redirect"):alert(t.error)}).catch(function(e){alert(e)})}),i.addEventListener("click",function(e){e.preventDefault(),n.style.setProperty("display","none","important")})});